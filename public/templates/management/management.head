<div flex="auto" layout="column" ng-cloak ng-controller="managementController as mctrl">

    <!-- Top navbar section -->
    <wz-menu ng-init="menuNavItem = 'manager'"></wz-menu>
    <!-- End top navbar section -->

    <!-- Navigation section -->
    <div layout="row" layout-align="start center" ng-if="mctrl.tab !== 'monitoring' && mctrl.tab !== 'configuration'">
        <!-- Breadcrumbs -->
        <div layout="row" layout-padding class="euiBreadcrumbs no-margin-left euiHeaderBreadcrumbs euiBreadcrumbs--truncate euiBreadcrumbs--responsive">
            <!-- If you're not on the Welcome tab, show a functional breadcrumb -->
            <div
                ng-if="mctrl.tab !== 'welcome' && !mctrl.currentGroup && !mctrl.currentRule && !mctrl.currentDecoder && !mctrl.currentList">
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.switchTab('welcome', true)">Management</span>
                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiBreadcrumb euiBreadcrumb--last">{{ mctrl.tabNames[mctrl.tab] }}</span>
            </div>
            <div
                ng-if="mctrl.tab !== 'welcome' && !mctrl.currentGroup && (mctrl.currentRule || mctrl.currentDecoder || mctrl.currentList)">

                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.switchTab('welcome', true)">Management</span>

                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.breadCrumbBack(true);">{{ mctrl.tabNames[mctrl.tab] }}</span>
                
                <div ng-show="mctrl.currentRule">
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.breadCrumbBack()"> rules</span>
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiBreadcrumb euiBreadcrumb--last">{{mctrl.currentRule.id}}</span>
                </div>
                
                <div ng-show="mctrl.currentDecoder">                    
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.breadCrumbBack()">decoders</span>
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiBreadcrumb euiBreadcrumb--last">{{mctrl.currentDecoder.name}}</span>
                </div>
                
                <div ng-show="mctrl.currentList">                
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.breadCrumbBack()">lists</span>
                    <div class="euiBreadcrumbSeparator"></div>
                    <span class="euiBreadcrumb euiBreadcrumb--last">{{mctrl.currentList.name}}</span>
                </div>

            </div>
            <div ng-if="mctrl.tab === 'groups' && mctrl.currentGroup && mctrl.currentGroup.name">
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.switchTab('welcome', true)">Management</span>
                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb" ng-click="mctrl.switchTab('groups', true)">
                    {{ mctrl.tabNames[mctrl.tab] }}</span>
                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiBreadcrumb euiBreadcrumb--last">{{ mctrl.currentGroup.name }} </span>
            </div>
        </div>
        <!-- End breadcrumbs -->
    </div>
    <div layout="row" layout-align="start center" ng-if="mctrl.tab !== 'monitoring' && mctrl.tab === 'configuration'">
        <div layout-padding class="euiFlexGroup">

            <div layout="row" ng-if="!mctrl.currentConfiguration && mctrl.editionTab !== 'editconfiguration'"
                 class="euiBreadcrumbs no-margin-left euiHeaderBreadcrumbs euiBreadcrumbs--truncate euiBreadcrumbs--responsive">
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb"
                    ng-click="mctrl.switchTab('welcome', true)">Management</span>
                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiBreadcrumb euiBreadcrumb--last">{{ mctrl.tabNames[mctrl.tab] }}</span>
            </div>

            <div layout="row" ng-if="mctrl.currentConfiguration || mctrl.editionTab === 'editconfiguration'"
                class="euiBreadcrumbs no-margin-left euiHeaderBreadcrumbs euiBreadcrumbs--truncate euiBreadcrumbs--responsive">
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb"
                    ng-click="mctrl.switchTab('welcome', true)">Management</span>
                <div class="euiBreadcrumbSeparator"></div>
                <span class="euiLink euiLink--subdued cursor-pointer euiBreadcrumb"
                    ng-click="mctrl.switchTab('configuration', true)">{{ mctrl.tabNames[mctrl.tab] }}</span>                
                <div class="euiBreadcrumbSeparator" ng-if="mctrl.editionTab !== 'editconfiguration'"></div>
                <span ng-if="mctrl.editionTab !== 'editconfiguration'" class="euiBreadcrumb euiBreadcrumb--last">
                    {{ mctrl.tabNames[mctrl.currentConfiguration] || mctrl.currentConfiguration }} </span>
            </div>

            <div ng-if="mctrl.editionTab !== 'editconfiguration' && mctrl.clusterInfo.status === 'enabled'"
                class="height-35 layout-align-center-stretch layout-column wz-margin-right-8 wz-select-input">
                <select class="euiSelect wz-border-none cursor-pointer" ng-model="mctrl.selectedNode"
                    ng-change="mctrl.changeNode(mctrl.selectedNode)">
                    <option ng-repeat="node in mctrl.nodeList" value="{{node}}">{{node}}</option>
                </select>
            </div>
        </div>
    </div>

    <md-nav-bar ng-if="!mctrl.load && mctrl.inArray(mctrl.tab, mctrl.statusReportsTabs) && mctrl.tab !== 'monitoring'"
        class="wz-nav-bar" ng-show="mctrl.tab !== 'welcome'" md-selected-nav-item="mctrl.tab"
        nav-bar-aria-label="Status and reports navigation links">
        <md-nav-item class="wz-nav-item" md-nav-click="mctrl.switchTab('status', true)" name="status">Status
        </md-nav-item>
        <md-nav-item class="wz-nav-item" md-nav-click="mctrl.switchTab('logs', true)" name="logs">Logs</md-nav-item>
        <md-nav-item class="wz-nav-item" md-nav-click="mctrl.switchTab('monitoring', true)" name="monitoring">Cluster
        </md-nav-item>
        <md-nav-item class="wz-nav-item" md-nav-click="mctrl.switchTab('reporting', true)" name="reporting">Reporting
        </md-nav-item>
    </md-nav-bar>